$(window).on("load",(function(){var t=d3.select("#zoomable-sunburst"),n=t.node().getBoundingClientRect().width;radius=Math.min(n,400)/2-10;var a=d3.format(",d"),e=d3.scale.linear().range([0,2*Math.PI]),r=d3.scale.sqrt().range([0,radius]),i=d3.scale.ordinal().range(["#99B898","#FECEA8","#FF847C","#E84A5F","#C06C84","#6C5B7B","#355C7D"]),d=d3.layout.partition().value((function(t){return t.size})),o=d3.svg.arc().startAngle((function(t){return Math.max(0,Math.min(2*Math.PI,e(t.x)))})).endAngle((function(t){return Math.max(0,Math.min(2*Math.PI,e(t.x+t.dx)))})).innerRadius((function(t){return Math.max(0,r(t.y))})).outerRadius((function(t){return Math.max(0,r(t.y+t.dy))})),l=t.append("svg").attr("width",n).attr("height",400).append("g").attr("transform","translate("+n/2+",200)");function u(t){l.transition().duration(750).tween("scale",(function(){var n=d3.interpolate(e.domain(),[t.x,t.x+t.dx]),a=d3.interpolate(r.domain(),[t.y,1]),i=d3.interpolate(r.range(),[t.y?20:0,radius]);return function(t){e.domain(n(t)),r.domain(a(t)).range(i(t))}})).selectAll("path").attrTween("d",(function(t){return function(){return o(t)}}))}d3.json("../../../app-assets/data/d3/circle/flare.json",(function(t,n){if(t)throw t;l.selectAll("path").data(d.nodes(n)).enter().append("path").attr("d",o).style("fill",(function(t){return i((t.children?t:t.parent).name)})).on("click",u).append("title").text((function(t){return t.name+"\n"+a(t.value)}))})),d3.select(self.frameElement).style("height","400px")}));